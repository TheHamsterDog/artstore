(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{129:function(t,e,a){},131:function(t,e,a){"use strict";a.r(e);var r=a(1),n=a.n(r),s=a(54),c=a.n(s),o=(a(97),a(10)),i=a(11),l=a(13),u=a(12),h=(a.p,a(25)),d=a(16),p=a(18),j=a(4),b=a.n(j),m=a(17),g=a(2),O=a(9),x=a(6),f=a.n(x),v=a(45),N=a(7),k=a(58),w=a.n(k),y=a(61),C=a.n(y),S=a(0),M=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(t){var r;return Object(o.a)(this,a),(r=e.call(this,t)).onChange=function(t){r.setState((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(N.a)({},t.target.name,t.target.value))}))},r.state={image:null,title:"",notFound:!0,author:{},description:"",rating:0,rated:{rating:0}},r}return Object(i.a)(a,[{key:"componentWillMount",value:function(){var t=Object(O.a)(b.a.mark((function t(){var e,a,r,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("/api/art/".concat(this.props.id));case 3:return e=t.sent,console.log(e.data.art.user),t.next=7,f.a.get("/api/user/".concat(e.data.art.user));case 7:if(a=t.sent,!this.props.loggedIn){t.next=13;break}return t.next=11,f.a.get("/api/ratings/auth/".concat(this.props.id));case 11:n=t.sent,r=n.data.rated?{rated:n.data.rated}:{rated:{ratings:0}};case 13:console.log(a.data),this.setState((function(t){return Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)({},t),e.data.art),{},{author:a.data.user},r),{},{notFound:!1})})),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(0),console.log(t.t0),this.setState({notFound:!0});case 21:case"end":return t.stop()}}),t,this,[[0,17]])})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return this.state.notFound?null:(console.log(this.state.author._id,this.props.user._id),Object(S.jsxs)("div",{className:"snippet-art",children:[Object(S.jsx)("img",{onClick:function(){t.props.history.push("/art/".concat(t.props.id))},src:this.state.image,className:" snippet-art-image",alt:this.state.title}),Object(S.jsx)("h1",{onClick:function(){t.props.history.push("/art/".concat(t.props.id))},className:"snippet-art-title",children:this.state.title}),Object(S.jsx)("h3",{onClick:function(){t.props.history.push("/art/".concat(t.props.id))},className:" snippet-art-description",children:this.state.description}),Object(S.jsxs)("div",{className:"home-header-content-artwork art-artist",onClick:function(){t.props.history.push("/author/".concat(t.state.author._id))},children:[Object(S.jsx)("h2",{className:"art-artist-name",children:this.state.author.name}),Object(S.jsx)("img",{className:"art-artist-image",src:this.state.author.image,alt:this.state.author.name})]}),Object(S.jsxs)("div",{className:" art-rating",children:[Object(S.jsx)(w.a,{onClick:Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.props.loggedIn){e.next=21;break}if(console.log(t.state.rated.rating),t.state.rated){e.next=10;break}return e.next=6,f.a.put("/api/ratings/".concat(t.props.id,"/1"));case 6:e.sent,t.setState((function(e){return Object(g.a)(Object(g.a)({},e),{},{rating:t.state.rating-t.state.rated.rating+1,rated:Object(g.a)(Object(g.a)({},e.rated),{},{rating:1})})})),e.next=21;break;case 10:if(1!==t.state.rated.rating){e.next=17;break}return e.next=13,f.a.put("/api/ratings/".concat(t.props.id,"/0"));case 13:e.sent,t.setState((function(e){return Object(g.a)(Object(g.a)({},e),{},{rating:t.state.rating-t.state.rated.rating,rated:Object(g.a)(Object(g.a)({},e.rated),{},{rating:0})})})),e.next=21;break;case 17:return e.next=19,f.a.put("/api/ratings/".concat(t.props.id,"/1"));case 19:e.sent,t.setState((function(e){return Object(g.a)(Object(g.a)({},e),{},{rating:t.state.rating-t.state.rated.rating+1,rated:Object(g.a)(Object(g.a)({},e.rated),{},{rating:1})})}));case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),console.log(e.t0.message);case 26:case"end":return e.stop()}}),e,null,[[0,23]])}))),className:1===this.state.rated.rating?"art-rating-up-active":"art-rating-up"}),Object(S.jsx)("span",{className:"art-rating-number",children:this.state.rating}),Object(S.jsx)(C.a,{onClick:Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.props.loggedIn){e.next=21;break}if(console.log(t.state.rated.rating),t.state.rated){e.next=10;break}return e.next=6,f.a.put("/api/ratings/".concat(t.props.id,"/-1"));case 6:e.sent,t.setState((function(e){return Object(g.a)(Object(g.a)({},e),{},{rating:t.state.rating-t.state.rated.rating-1,rated:Object(g.a)(Object(g.a)({},e.rated),{},{rating:-1})})})),e.next=21;break;case 10:if(-1!==t.state.rated.rating){e.next=17;break}return e.next=13,f.a.put("/api/ratings/".concat(t.props.id,"/0"));case 13:e.sent,t.setState((function(e){return Object(g.a)(Object(g.a)({},e),{},{rating:t.state.rating-t.state.rated.rating,rated:Object(g.a)(Object(g.a)({},e.rated),{},{rating:0})})})),e.next=21;break;case 17:return e.next=19,f.a.put("/api/ratings/".concat(t.props.id,"/-1"));case 19:e.sent,t.setState((function(e){return Object(g.a)(Object(g.a)({},e),{},{rating:t.state.rating-t.state.rated.rating-1,rated:Object(g.a)(Object(g.a)({},e.rated),{},{rating:-1})})}));case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),console.log(e.t0.message);case 26:case"end":return e.stop()}}),e,null,[[0,23]])}))),className:-1===this.state.rated.rating?"art-rating-down-active":"art-rating-down"})]})]}))}}]),a}(r.Component),A=Object(p.b)((function(t){return{user:t.auth.user,loggedIn:t.auth.loaded}}))(Object(d.f)(M)),I=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(t){var r;return Object(o.a)(this,a),(r=e.call(this,t)).state={text:r.props.match.params.text||""},r}return Object(i.a)(a,[{key:"render",value:function(){var t=this;return Object(S.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.props.history.push("/search/".concat(t.state.text))},className:"home-header-text",children:[Object(S.jsx)("h1",{className:"home-header-text-heading",children:"Welcome to art store"}),Object(S.jsx)("p",{className:"home-header-text-paragraph",children:"The best place for up and coming artists to show off their work, and even get paid for it."}),Object(S.jsx)("input",{value:this.state.text,onChange:function(e){t.setState((function(t){return Object(g.a)(Object(g.a)({},t),{},{text:e.target.value})}))},className:"navbar-right-search",type:"text",placeholder:"search"})]})}}]),a}(n.a.Component),_=Object(d.f)(I),D=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(t){var r;return Object(o.a)(this,a),(r=e.call(this,t)).loadMore=Object(O.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("/api/art/".concat(r.state.arts.length,"/4"));case 3:e=t.sent,console.log(e),r.setState((function(t){return Object(g.a)(Object(g.a)({},t),{},{arts:[].concat(Object(m.a)(r.state.arts),Object(m.a)(e.data.artworks)),hasMore:!(e.data.artworks.length<10)})})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),r.componentDidMount=function(){r.loadMore()},r.state={arts:[],hasMore:!0},r}return Object(i.a)(a,[{key:"render",value:function(){return Object(S.jsx)("div",{className:"home",children:Object(S.jsxs)("div",{className:"home-header",children:[Object(S.jsx)(_,{}),Object(S.jsxs)("div",{className:"home-header-content",children:[Object(S.jsx)("h1",{className:"home-header-content-title",children:"Trending Artwork"}),Object(S.jsx)("div",{className:"home-header-content-artwork home-header-content-artwork-infinite",children:Object(S.jsx)(v.a,{dataLength:this.state.arts.length,next:this.loadMore,hasMore:this.state.hasMore,loader:Object(S.jsx)("h4",{children:"Loading..."}),endMessage:Object(S.jsx)("p",{style:{textAlign:"center"},children:Object(S.jsx)("strong",{children:"(\u256f\xb0\u25a1\xb0\uff09\u256f\ufe35 \u253b\u2501\u253b"})}),children:this.state.arts.map((function(t){return Object(S.jsx)(A,{id:t._id})}))})})]})]})})}}]),a}(r.Component),L=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(t){var r;return Object(o.a)(this,a),(r=e.call(this,t)).loadMore=Object(O.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("/api/art/author/".concat(r.state.arts.length,"/").concat(r.props.match.params.id));case 3:e=t.sent,console.log(e),r.setState((function(t){return Object(g.a)(Object(g.a)({},t),{},{arts:[].concat(Object(m.a)(r.state.arts),Object(m.a)(e.data.artworks)),hasMore:!(e.data.artworks.length<10)})})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),r.componentWillMount=Object(O.a)(b.a.mark((function t(){var e,a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("/api/user/".concat(r.props.match.params.id));case 2:if(e=t.sent,!r.props.loggedIn){t.next=10;break}return t.next=6,f.a.get("/api/follower/".concat(r.props.match.params.id));case 6:a=t.sent,r.setState((function(t){return Object(g.a)(Object(g.a)({},t),{},{author:e.data.user,followers:a.data.count,followed:a.data.followed})})),t.next=14;break;case 10:return t.next=12,f.a.get("/api/follower/unauth/".concat(r.props.match.params.id));case 12:n=t.sent,r.setState((function(t){return Object(g.a)(Object(g.a)({},t),{},{author:e.data.user,followers:n.data.count,followed:!1})}));case 14:r.loadMore();case 15:case"end":return t.stop()}}),t)}))),r.state={arts:[],author:{},followers:0,followed:!1,hasMore:!0},r}return Object(i.a)(a,[{key:"render",value:function(){var t=this;return Object(S.jsx)("div",{className:"home",children:Object(S.jsxs)("div",{className:"home-header",children:[Object(S.jsxs)("div",{className:"home-header-text",children:[Object(S.jsx)("h1",{className:"home-header-text-heading",children:"Welcome to art store"}),Object(S.jsx)("p",{className:"home-header-text-paragraph",children:"The best place for up and coming artists to show off their work, and even get paid for it."}),Object(S.jsx)("input",{className:"navbar-right-search",type:"text",placeholder:"search"})]}),Object(S.jsxs)("div",{className:"home-header-content",children:[Object(S.jsx)("h1",{className:"home-header-content-title",children:this.state.author.userName}),Object(S.jsxs)("div",{style:{display:"flex"},children:[this.state.author._id===this.props.user._id?null:Object(S.jsx)("button",{onClick:Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("/api/follower/follow/".concat(t.props.match.params.id));case 3:t.setState((function(t){return Object(g.a)(Object(g.a)({},t),{},{followed:!t.followed,followers:t.followed?t.followed-1:t.followers+1})})),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),className:"profile-follow",children:this.state.followed?"unfollow":"follow"}),Object(S.jsxs)("h2",{className:"art-artist-name",children:[this.state.followers," Followers"]})]}),Object(S.jsxs)("div",{className:" art-artist",style:{padding:0,margin:"4rem 0",height:"3rem",justifyContent:"flex-start"},onClick:function(){t.props.history.push("/author/".concat(t.state.author._id))},children:[Object(S.jsx)("img",{style:{marginRight:"3rem"},className:"art-artist-image",src:this.state.author.image,alt:this.state.author.name}),Object(S.jsx)("h2",{className:"art-artist-name",children:this.state.author.name})]}),Object(S.jsx)("div",{className:"home-header-content-artwork home-header-content-artwork-infinite",children:Object(S.jsx)(v.a,{dataLength:this.state.arts.length,next:this.loadMore,hasMore:this.state.hasMore,loader:Object(S.jsx)("h4",{children:"Loading..."}),endMessage:Object(S.jsx)("p",{style:{textAlign:"center"},children:Object(S.jsx)("strong",{children:"(\u256f\xb0\u25a1\xb0\uff09\u256f\ufe35 \u253b\u2501\u253b"})}),children:this.state.arts.map((function(t){return Object(S.jsx)(A,{id:t._id})}))})})]})]})})}}]),a}(r.Component),F=Object(p.b)((function(t){return{loggedIn:t.auth.loaded,user:t.auth.user}}))(L),R=a(152),T="LOAD_USER",E="LOG_OUT",B="ADD_ALERT",P="REMOVE_ALERT",U=function(t,e,a){return a({type:B,payload:{id:Object(R.a)(),message:e,type:t}})},W=function(){var t=Object(O.a)(b.a.mark((function t(e,a){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e),t.next=4,f.a.post("/api/user/sign-up",e);case 4:return r=t.sent,console.log(r.data),localStorage.setItem("token",r.data.token),U("success","Signed Up Successfully!",a),f.a.defaults.headers.common={"x-auth-token":r.data.token},t.abrupt("return",a({type:T,payload:{user:r.data.user}}));case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),t.t0.response.data.errors&&t.t0.response.data.errors.forEach((function(t){U("error",t.message,a)})),U("error",t.t0.response.data.error,a);case 17:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}(),G=function(){var t=Object(O.a)(b.a.mark((function t(e,a){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e),t.next=4,f.a.post("/api/user/sign-in",e);case 4:return r=t.sent,console.log(r.data),localStorage.setItem("token",r.data.token),f.a.defaults.headers.common={"x-auth-token":r.data.token},U("success","Signed In Successfully!",a),t.abrupt("return",a({type:T,payload:{user:r.data.user}}));case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),t.t0.response.data.errors&&t.t0.response.data.errors.forEach((function(t){U("error",t.message,a)})),U("error",t.t0.response.data.error,a);case 17:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}(),Y=function(){var t=Object(O.a)(b.a.mark((function t(e){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f.a.defaults.headers.common={"x-auth-token":localStorage.token},t.prev=1,t.next=4,f.a.get("/api/user/");case 4:return a=t.sent,t.abrupt("return",e({type:T,payload:{user:a.data.user}}));case 8:return t.prev=8,t.t0=t.catch(1),console.log(t.t0),t.t0.response.data.errors&&t.t0.response.data.errors.forEach((function(t){U("error",t.message,e)})),U("error",t.t0.response.data.error,e),t.abrupt("return",e({type:E,payload:{}}));case 14:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),J=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(t){var r;return Object(o.a)(this,a),(r=e.call(this,t)).onChange=function(t){r.setState((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(N.a)({},t.target.name,t.target.value))}))},r.state={userName:"",password:""},r}return Object(i.a)(a,[{key:"render",value:function(){var t=this;return Object(S.jsx)("div",{className:"home",children:Object(S.jsxs)("div",{className:"home-header",children:[Object(S.jsxs)("div",{className:"home-header-text",children:[Object(S.jsx)("h1",{className:"home-header-text-heading",children:"Welcome to art store"}),Object(S.jsx)("p",{className:"home-header-text-paragraph",children:"The best place for up and coming artists to show off their work, and even get paid for it."})]}),Object(S.jsxs)("div",{className:"home-header-content",children:[Object(S.jsx)("h1",{className:"home-header-content-title",children:"LOG IN"}),Object(S.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.props.login(t.state)},className:"home-header-content-artwork auth",children:[Object(S.jsx)("input",{type:"text",placeholder:"user name",name:"userName",onChange:this.onChange,className:"auth-input"}),Object(S.jsx)("input",{type:"password",name:"password",onChange:this.onChange,className:"auth-input",placeholder:"password"}),Object(S.jsx)("button",{className:"auth-button",children:"LOG IN"})]})]})]})})}}]),a}(r.Component),z=Object(p.b)((function(t){return{}}),(function(t){return{addAlert:function(e,a){return U(e,a,t)},login:function(e){return G(e,t)}}}))(J),V=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(t){var r;return Object(o.a)(this,a),(r=e.call(this,t)).onChange=function(t){r.setState((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(N.a)({},t.target.name,t.target.value))}))},r.state={image:null,userName:null,name:null,password:null,confirmPassword:null,ethAddress:null,description:""},r}return Object(i.a)(a,[{key:"render",value:function(){var t=this;return Object(S.jsx)("div",{className:"home",children:Object(S.jsxs)("div",{className:"home-header",children:[Object(S.jsxs)("div",{className:"home-header-text",children:[Object(S.jsx)("h1",{className:"home-header-text-heading",children:"Welcome to art store"}),Object(S.jsx)("p",{className:"home-header-text-paragraph",children:"The best place for up and coming artists to show off their work, and even get paid for it."})]}),Object(S.jsxs)("div",{className:"home-header-content",children:[Object(S.jsx)("h1",{className:"home-header-content-title",children:"REGISTER"}),Object(S.jsxs)("form",{className:"home-header-content-artwork auth",onSubmit:function(e){e.preventDefault(),t.state.password===t.state.confirmPassword?t.state.password.length<8?t.props.addAlert("error","Your passwords should be at least 8 characters long!"):t.state.image?t.state.ethAddress&&42===t.state.ethAddress.length?t.state.name&&t.state.description?t.props.register(t.state):t.props.addAlert("error","Please make sure that you have put a valid name"):t.props.addAlert("error","Please make sure that you have put a valid ethereum address"):t.props.addAlert("error","You need to add a profile picture"):t.props.addAlert("error","Your passwords don't match!")},children:[Object(S.jsx)("input",{type:"text",onChange:this.onChange,name:"name",placeholder:"name",className:"auth-input"}),Object(S.jsx)("input",{type:"text",onChange:this.onChange,name:"description",placeholder:"Describe yourself...",className:"auth-input"}),Object(S.jsx)("input",{type:"text",onChange:this.onChange,name:"userName",placeholder:"username",className:"auth-input"}),Object(S.jsx)("input",{type:"text",onChange:this.onChange,name:"ethAddress",placeholder:"ethereum",className:"auth-input"}),Object(S.jsx)("input",{type:"file",placeholder:"profile picture",onChange:function(e){console.log(e.target.value);var a=new FileReader;a.readAsDataURL(e.target.files[0]),a.onload=function(){t.setState((function(t){return{image:a.result}}))}},className:"auth-input-image",accept:"image/*"}),this.state.image?Object(S.jsx)("div",{className:"auth-input-display",children:Object(S.jsx)("img",{src:this.state.image,alt:"profile"})}):null,Object(S.jsx)("input",{type:"password",onChange:this.onChange,name:"password",className:"auth-input",placeholder:"password"}),Object(S.jsx)("input",{type:"password",onChange:this.onChange,name:"confirmPassword",className:"auth-input",placeholder:"confirm-password"}),Object(S.jsx)("button",{className:"auth-button",children:"REGISTER"})]})]})]})})}}]),a}(r.Component),q=Object(p.b)((function(t){return{}}),(function(t){return{addAlert:function(e,a){return U(e,a,t)},register:function(e){return W(e,t)}}}))(V),H=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(t){var r;return Object(o.a)(this,a),(r=e.call(this,t)).state={accountBalance:0,etherBalance:0},r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var t=Object(O.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("/api/ether");case 3:e=t.sent,console.log(e.data),this.setState((function(t){return{accountBalance:e.data.accountBalance,etherBalance:e.data.etherBalance}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(S.jsx)("div",{className:"home",children:Object(S.jsxs)("div",{className:"home-header",children:[Object(S.jsxs)("div",{className:"home-header-text",children:[Object(S.jsx)("h1",{className:"home-header-text-heading",children:"Welcome to art store"}),Object(S.jsx)("p",{className:"home-header-text-paragraph",children:"The best place for up and coming artists to show off their work, and even get paid for it."})]}),Object(S.jsxs)("div",{className:"home-header-content",children:[Object(S.jsx)("h1",{className:"home-header-content-title",children:"Your Wallet"}),Object(S.jsxs)("div",{className:"home-header-content-artwork auth",children:[Object(S.jsx)("div",{className:"wallet-container",children:Object(S.jsxs)("h3",{className:"wallet-container-title",children:["Ether Balance: ",this.state.etherBalance]})}),Object(S.jsx)("div",{className:"wallet-container",children:Object(S.jsxs)("h3",{className:"wallet-container-title",children:["Account Balance: ",this.state.accountBalance]})}),Object(S.jsx)("button",{onClick:Object(O.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.post("/api/ether/withdraw");case 3:e=t.sent,console.log(e.data),document.location.reload(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),className:"auth-button",children:"Withdraw"})]})]})]})})}}]),a}(r.Component),K=Object(p.b)((function(t){return{user:t.auth.user}}))(H),Q=a(69),X=a.n(Q),Z=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(t){var r;return Object(o.a)(this,a),(r=e.call(this,t)).onChange=function(t){r.setState((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(N.a)({},t.target.name,t.target.value))}))},r.state={image:null,title:"",notFound:!0,author:{},description:"",rating:0,rated:{rating:0}},r}return Object(i.a)(a,[{key:"componentWillMount",value:function(){var t=Object(O.a)(b.a.mark((function t(){var e,a,r,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("/api/art/".concat(this.props.match.params.id));case 3:return e=t.sent,console.log(e.data),t.next=7,f.a.get("/api/user/".concat(e.data.art.user));case 7:if(a=t.sent,!this.props.loggedIn){t.next=13;break}return t.next=11,f.a.get("/api/ratings/auth/".concat(this.props.match.params.id));case 11:n=t.sent,r={rated:n.data.rated};case 13:console.log(r),this.setState((function(t){return Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)({},t),e.data.art),{},{author:a.data.user},r),{},{notFound:!1})})),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(0),console.log(t.t0),this.setState({notFound:!0});case 21:case"end":return t.stop()}}),t,this,[[0,17]])})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return this.state.notFound?Object(S.jsx)("div",{className:"home",children:"Not found"}):(console.log(this.state.author._id,this.props.user._id),Object(S.jsxs)("div",{className:"home",children:[this.props.user._id&&this.state.author._id.toString()===this.props.user._id.toString()?Object(S.jsx)(X.a,{className:"art-delete",onClick:function(){var e=Object(O.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.delete("/api/art/".concat(t.props.match.params.id));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}):null,Object(S.jsxs)("div",{className:"home-header",children:[Object(S.jsx)(_,{}),Object(S.jsxs)("div",{className:"home-header-content",children:[Object(S.jsx)("h1",{className:"home-header-content-title",children:this.state.title}),Object(S.jsxs)("div",{className:"home-header-content-artwork art",children:[Object(S.jsx)("img",{src:this.state.image,className:"art-image",alt:this.state.title}),Object(S.jsx)("h3",{className:"art-description",children:this.state.description})]}),Object(S.jsxs)("div",{className:"home-header-content-artwork art-artist",onClick:function(){t.props.history.push("/author/".concat(t.state.author._id))},children:[Object(S.jsx)("h2",{className:"art-artist-name",children:this.state.author.name}),Object(S.jsx)("img",{className:"art-artist-image",src:this.state.author.image,alt:this.state.author.name})]}),Object(S.jsxs)("div",{className:" art-rating",children:[Object(S.jsx)(w.a,{onClick:Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.props.loggedIn){e.next=21;break}if(console.log(t.state.rated.rating),t.state.rated){e.next=10;break}return e.next=6,f.a.put("/api/ratings/".concat(t.props.match.params.id,"/1"));case 6:e.sent,t.setState((function(e){return Object(g.a)(Object(g.a)({},e),{},{rating:t.state.rating-t.state.rated.rating+1,rated:Object(g.a)(Object(g.a)({},e.rated),{},{rating:1})})})),e.next=21;break;case 10:if(1!==t.state.rated.rating){e.next=17;break}return e.next=13,f.a.put("/api/ratings/".concat(t.props.match.params.id,"/0"));case 13:e.sent,t.setState((function(e){return Object(g.a)(Object(g.a)({},e),{},{rating:t.state.rating-t.state.rated.rating,rated:Object(g.a)(Object(g.a)({},e.rated),{},{rating:0})})})),e.next=21;break;case 17:return e.next=19,f.a.put("/api/ratings/".concat(t.props.match.params.id,"/1"));case 19:e.sent,t.setState((function(e){return Object(g.a)(Object(g.a)({},e),{},{rating:t.state.rating-t.state.rated.rating+1,rated:Object(g.a)(Object(g.a)({},e.rated),{},{rating:1})})}));case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),console.log(e.t0.message);case 26:case"end":return e.stop()}}),e,null,[[0,23]])}))),className:1===this.state.rated.rating?"art-rating-up-active":"art-rating-up"}),Object(S.jsx)("span",{className:"art-rating-number",children:this.state.rating}),Object(S.jsx)(C.a,{onClick:Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.props.loggedIn){e.next=21;break}if(console.log(t.state.rated.rating),t.state.rated){e.next=10;break}return e.next=6,f.a.put("/api/ratings/".concat(t.props.match.params.id,"/-1"));case 6:e.sent,t.setState((function(e){return Object(g.a)(Object(g.a)({},e),{},{rating:t.state.rating-t.state.rated.rating-1,rated:Object(g.a)(Object(g.a)({},e.rated),{},{rating:-1})})})),e.next=21;break;case 10:if(-1!==t.state.rated.rating){e.next=17;break}return e.next=13,f.a.put("/api/ratings/".concat(t.props.match.params.id,"/0"));case 13:e.sent,t.setState((function(e){return Object(g.a)(Object(g.a)({},e),{},{rating:t.state.rating-t.state.rated.rating,rated:Object(g.a)(Object(g.a)({},e.rated),{},{rating:0})})})),e.next=21;break;case 17:return e.next=19,f.a.put("/api/ratings/".concat(t.props.match.params.id,"/-1"));case 19:e.sent,t.setState((function(e){return Object(g.a)(Object(g.a)({},e),{},{rating:t.state.rating-t.state.rated.rating-1,rated:Object(g.a)(Object(g.a)({},e.rated),{},{rating:-1})})}));case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),console.log(e.t0.message);case 26:case"end":return e.stop()}}),e,null,[[0,23]])}))),className:-1===this.state.rated.rating?"art-rating-down-active":"art-rating-down"})]})]})]})]}))}}]),a}(r.Component),$=Object(p.b)((function(t){return{user:t.auth.user,loggedIn:t.auth.loaded}}))(Object(d.f)(Z)),tt=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(t){var r;return Object(o.a)(this,a),(r=e.call(this,t)).onChange=function(t){r.setState((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(N.a)({},t.target.name,t.target.value))}))},r.state={image:null,title:"",description:""},r}return Object(i.a)(a,[{key:"render",value:function(){var t=this;return Object(S.jsx)("div",{className:"home",children:Object(S.jsxs)("div",{className:"home-header",children:[Object(S.jsxs)("div",{className:"home-header-text",children:[Object(S.jsx)("h1",{className:"home-header-text-heading",children:"Welcome to art store"}),Object(S.jsx)("p",{className:"home-header-text-paragraph",children:"The best place for up and coming artists to show off their work, and even get paid for it."})]}),Object(S.jsxs)("div",{className:"home-header-content",children:[Object(S.jsx)("h1",{className:"home-header-content-title",children:"UPLOAD ART"}),Object(S.jsxs)("form",{className:"home-header-content-artwork auth",onSubmit:function(){var e=Object(O.a)(b.a.mark((function e(a){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),t.state.image){e.next=4;break}return t.props.addAlert("error","You need to add a picture of your art work"),e.abrupt("return");case 4:if(t.state.title){e.next=7;break}return t.props.addAlert("error","Please make sure that you have put an appropriate title for your artwork"),e.abrupt("return");case 7:if(t.state.description){e.next=10;break}return t.props.addAlert("error","Please make sure that you have added an appropriate description for your art"),e.abrupt("return");case 10:return e.prev=10,e.next=13,f.a.post("/api/art/",t.state);case 13:r=e.sent,console.log(r.data),t.props.history.push("/art/".concat(r.data.id)),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),console.log(e.t0.response.data);case 21:case"end":return e.stop()}}),e,null,[[10,18]])})));return function(t){return e.apply(this,arguments)}}(),children:[Object(S.jsx)("input",{type:"text",onChange:this.onChange,name:"title",placeholder:"title",className:"auth-input"}),Object(S.jsx)("input",{type:"text",onChange:this.onChange,name:"description",placeholder:"Describe your art...",className:"auth-input"}),Object(S.jsx)("input",{type:"file",placeholder:"profile picture",onChange:function(e){console.log(e.target.value);var a=new FileReader;a.readAsDataURL(e.target.files[0]),a.onload=function(){t.setState((function(t){return{image:a.result}}))}},className:"auth-input-image",accept:"image/*"}),this.state.image?Object(S.jsx)("div",{className:"auth-input-display",children:Object(S.jsx)("img",{src:this.state.image,alt:"profile"})}):null,Object(S.jsx)("button",{className:"auth-button",children:"Upload"})]})]})]})})}}]),a}(r.Component),et=Object(p.b)((function(t){return{user:t.auth.user}}))(Object(d.f)(tt)),at=a(154),rt=a(84),nt=a.n(rt),st=a(85),ct=a.n(st),ot=a(87),it=a.n(ot),lt=a(86),ut=a.n(lt),ht=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(t){var r;return Object(o.a)(this,a),(r=e.call(this,t)).state={text:r.props.match.params.text||""},r}return Object(i.a)(a,[{key:"render",value:function(){var t=this;return Object(S.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.props.history.push("/search/".concat(t.state.text))},className:"navbar",children:[Object(S.jsx)(h.b,{to:"/",className:"navbar-left",children:"ART"}),Object(S.jsx)("input",{value:this.state.text,onChange:function(e){t.setState((function(t){return Object(g.a)(Object(g.a)({},t),{},{text:e.target.value})}))},className:"navbar-right-search",type:"text",placeholder:"search"}),Object(S.jsx)("div",{className:"navbar-right",children:Object(S.jsxs)("div",{className:"navbar-right-avatar",children:[Object(S.jsx)(at.a,{className:"navbar-right-avatar-icon",src:this.props.user.image}),this.props.loggedIn?Object(S.jsxs)("div",{className:"navbar-right-avatar-list",children:[Object(S.jsxs)(h.b,{to:"/author/"+this.props.user._id,className:"navbar-right-avatar-list-button",children:[Object(S.jsx)(nt.a,{className:"navbar-right-avatar-list-button-icon"})," ",Object(S.jsx)("span",{className:"navbar-right-avatar-list-button-text",children:"My Profile"})]}),Object(S.jsxs)(h.b,{to:"/wallet",className:"navbar-right-avatar-list-button",children:[Object(S.jsx)(ct.a,{className:"navbar-right-avatar-list-button-icon"})," ",Object(S.jsx)("span",{className:"navbar-right-avatar-list-button-text",children:"My Wallet"})]}),Object(S.jsxs)(h.b,{className:"navbar-right-avatar-list-button",to:"/upload-art",children:[Object(S.jsx)(ut.a,{className:"navbar-right-avatar-list-button-icon"})," ",Object(S.jsx)("span",{className:"navbar-right-avatar-list-button-text",children:"Upload Art"})]}),Object(S.jsxs)(h.b,{className:"navbar-right-avatar-list-button",to:"/",onClick:function(){localStorage.removeItem("token"),document.location.reload()},children:[Object(S.jsx)(it.a,{className:"navbar-right-avatar-list-button-icon"})," ",Object(S.jsx)("span",{className:"navbar-right-avatar-list-button-text",children:"Log Out"})]})]}):Object(S.jsxs)("div",{className:"navbar-right-avatar-list",children:[Object(S.jsx)(h.b,{to:"/sign-in",className:"navbar-right-avatar-list-button",children:Object(S.jsx)("span",{className:"navbar-right-avatar-list-button-text",children:"Login"})}),Object(S.jsx)(h.b,{to:"/sign-up",className:"navbar-right-avatar-list-button",children:Object(S.jsx)("span",{className:"navbar-right-avatar-list-button-text",children:"Sign Up"})})]})]})})]})}}]),a}(r.Component),dt=Object(p.b)((function(t){return{loggedIn:t.auth.loaded,user:t.auth.user}}))(Object(d.f)(ht)),pt=a(151),jt=function(t){return Object(S.jsx)(pt.a,{severity:t.type,style:{fontSize:"1.6rem",display:"flex",alignItems:"center",marginBottom:"1rem"},onClose:t.onClose,children:t.message})},bt=(a(129),function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(t){var r;return Object(o.a)(this,a),(r=e.call(this,t)).componentDidUpdate=function(){var t=Object(O.a)(b.a.mark((function t(e){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r.props.match.params.text===e.match.params.text){t.next=7;break}return t.next=4,f.a.get("/api/art/search/".concat(0,"/",r.props.match.params.text));case 4:a=t.sent,console.log(a),r.setState((function(t){return Object(g.a)(Object(g.a)({},t),{},{arts:a.data.artworks,hasMore:!(a.data.artworks.length<10)})}));case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),r.loadMore=Object(O.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("/api/art/search/".concat(r.state.arts.length,"/").concat(r.props.match.params.text));case 3:e=t.sent,console.log(e),r.setState((function(t){return Object(g.a)(Object(g.a)({},t),{},{arts:[].concat(Object(m.a)(r.state.arts),Object(m.a)(e.data.artworks)),hasMore:!(e.data.artworks.length<10)})})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),r.componentDidMount=function(){r.loadMore()},r.state={arts:[],hasMore:!0},r}return Object(i.a)(a,[{key:"render",value:function(){return Object(S.jsx)("div",{className:"home",children:Object(S.jsxs)("div",{className:"home-header",children:[Object(S.jsx)(_,{}),Object(S.jsxs)("div",{className:"home-header-content",children:[Object(S.jsxs)("h1",{className:"home-header-content-title",children:['Show Results for "',this.props.match.params.text,'"']}),Object(S.jsx)("div",{className:"home-header-content-artwork home-header-content-artwork-infinite",children:Object(S.jsx)(v.a,{dataLength:this.state.arts.length,next:this.loadMore,hasMore:this.state.hasMore,loader:Object(S.jsx)("h4",{children:"Loading..."}),endMessage:Object(S.jsx)("p",{style:{textAlign:"center"},children:Object(S.jsx)("strong",{children:"(\u256f\xb0\u25a1\xb0\uff09\u256f\ufe35 \u253b\u2501\u253b"})}),children:this.state.arts.map((function(t){return Object(S.jsx)(A,{id:t._id},Object(R.a)())}))})})]})]})})}}]),a}(r.Component)),mt=bt,gt=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(t){var r;return Object(o.a)(this,a),r=e.call(this,t),console.log(t),r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){localStorage.token&&this.props.loadUser()}},{key:"render",value:function(){var t=this;return Object(S.jsxs)(h.a,{children:[Object(S.jsx)("div",{className:"alerts",children:this.props.alerts.map((function(e){return Object(S.jsx)(jt,{message:e.message,type:e.type,onClose:t.props.removeAlert.bind(t,e.id)},e.id)}))}),Object(S.jsx)(dt,{}),Object(S.jsxs)(d.c,{children:[Object(S.jsxs)(d.a,{exact:!0,path:"/",children:[" ",Object(S.jsx)(D,{})]}),Object(S.jsx)(d.a,{exact:!0,path:"/search/:text",component:mt}),Object(S.jsx)(d.a,{exact:!0,path:"/art/:id",component:$}),Object(S.jsx)(d.a,{exact:!0,path:"/author/:id",component:F}),this.props.loggedIn?Object(S.jsxs)(d.c,{children:[Object(S.jsx)(d.a,{exact:!0,path:"/profile",children:"My Profile"}),Object(S.jsx)(d.a,{exact:!0,path:"/favorites",children:"Favorite"}),Object(S.jsx)(d.a,{exact:!0,path:"/wallet",children:Object(S.jsx)(K,{})}),Object(S.jsx)(d.a,{exact:!0,path:"/upload-art",children:Object(S.jsx)(et,{})}),Object(S.jsx)(d.a,{children:"Not found"})]}):Object(S.jsxs)(d.c,{children:[Object(S.jsx)(d.a,{exact:!0,path:"/sign-up",children:Object(S.jsx)(q,{})}),Object(S.jsxs)(d.a,{exact:!0,path:"/sign-in",children:[" ",Object(S.jsx)(z,{})]}),Object(S.jsx)(d.a,{children:"Not found"})]})]})]})}}]),a}(r.Component),Ot=Object(p.b)((function(t){return{loggedIn:t.auth.loaded,user:t.auth.user,alerts:t.alert}}),(function(t){return{removeAlert:function(e){return function(t,e){return e({type:P,payload:t})}(e,t)},loadUser:function(){return Y(t)}}}))(gt),xt=a(64),ft={user:{},loaded:!1},vt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,e=arguments.length>1?arguments[1]:void 0,a=e.type,r=e.payload;switch(a){case T:return Object.assign({},t,{user:r.user,loaded:!0});case E:return Object.assign({},t,{user:{},loaded:!1});default:return t}},Nt=[],kt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,e=arguments.length>1?arguments[1]:void 0,a=e.type,r=e.payload;switch(a){case B:return[].concat(Object(m.a)(t),[r]);case P:return t.filter((function(t){if(t.id!==r)return t}));default:return t}},wt=a(88),yt=function(){return Object(xt.c)(Object(xt.b)({auth:vt,alert:kt}),Object(xt.a)(wt.a))},Ct=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,155)).then((function(e){var a=e.getCLS,r=e.getFID,n=e.getFCP,s=e.getLCP,c=e.getTTFB;a(t),r(t),n(t),s(t),c(t)}))};c.a.render(Object(S.jsx)(n.a.StrictMode,{children:Object(S.jsx)(p.a,{store:yt(),children:Object(S.jsx)(Ot,{})})}),document.getElementById("root")),Ct()},97:function(t,e,a){}},[[131,1,2]]]);
//# sourceMappingURL=main.b736a60a.chunk.js.map